<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ·±å…¥ç†è§£ Kubernetes èµ„æºç®¡ç†ä¸è°ƒåº¦ç­–ç•¥ - Moreyu's Blog âœ¨</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/maple-mono@latest/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="reading-progress"></div>
    
    <a href="/" class="back-home">
        <i class="fas fa-home"></i> è¿”å›é¦–é¡µ
    </a>

    <div class="share-menu">
        <button class="share-button" onclick="shareToTwitter()">
            <i class="fab fa-twitter"></i>
        </button>
        <button class="share-button" onclick="shareToFacebook()">
            <i class="fab fa-facebook"></i>
        </button>
        <button class="share-button" onclick="copyLink()">
            <i class="fas fa-link"></i>
        </button>
    </div>

    <nav class="toc">
        <div class="toc-title">ç›®å½•</div>
        <ul>
            <li><a href="#introduction">å¼•è¨€</a></li>
            <li><a href="#resource-types">Kubernetes èµ„æºç±»å‹</a></li>
            <li><a href="#requests-limits">èµ„æºè¯·æ±‚ä¸é™åˆ¶</a></li>
            <li><a href="#scheduling">è°ƒåº¦ç­–ç•¥è¯¦è§£</a></li>
            <li><a href="#best-practices">æœ€ä½³å®è·µ</a></li>
            <li><a href="#summary">æ€»ç»“</a></li>
        </ul>
    </nav>

    <article class="post-content">
        <h1>æ·±å…¥ç†è§£ Kubernetes èµ„æºç®¡ç†ä¸è°ƒåº¦ç­–ç•¥</h1>
        
        <div class="post-meta">
            <span><i class="far fa-calendar"></i> 2024-03-15</span>
            <span><i class="far fa-clock"></i> 20 åˆ†é’Ÿé˜…è¯»</span>
            <span><i class="fas fa-tag"></i> äº‘åŸç”Ÿ</span>
        </div>

        <h2 id="introduction">å¼•è¨€</h2>
        <p>åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼ŒKubernetes å·²ç»æˆä¸ºå®¹å™¨ç¼–æ’çš„äº‹å®æ ‡å‡†ã€‚é«˜æ•ˆçš„èµ„æºç®¡ç†å’Œåˆç†çš„è°ƒåº¦ç­–ç•¥æ˜¯æ„å»ºå¯é ã€é«˜æ€§èƒ½å®¹å™¨åŒ–åº”ç”¨çš„åŸºç¡€ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Kubernetes çš„èµ„æºç®¡ç†æœºåˆ¶å’Œè°ƒåº¦ç­–ç•¥ã€‚</p>

        <h2 id="resource-types">Kubernetes èµ„æºç±»å‹</h2>
        <div class="card-3d">
            <h3>è®¡ç®—èµ„æº</h3>
            <ul>
                <li>CPU</li>
                <li>å†…å­˜</li>
                <li>ä¸´æ—¶å­˜å‚¨</li>
                <li>æ‰©å±•èµ„æºï¼ˆå¦‚ GPUï¼‰</li>
            </ul>
            <pre><code class="yaml">resources:
  requests:
    memory: "64Mi"
    cpu: "250m"
  limits:
    memory: "128Mi"
    cpu: "500m"</code></pre>
        </div>

        <h2 id="requests-limits">èµ„æºè¯·æ±‚ä¸é™åˆ¶</h2>
        <div class="card-3d">
            <h3>èµ„æºè¯·æ±‚ï¼ˆRequestsï¼‰</h3>
            <p>Pod è°ƒåº¦æ—¶çš„æœ€å°èµ„æºä¿è¯ï¼š</p>
            <pre><code class="yaml">spec:
  containers:
  - name: app
    resources:
      requests:
        memory: "64Mi"
        cpu: "250m"</code></pre>

            <h3>èµ„æºé™åˆ¶ï¼ˆLimitsï¼‰</h3>
            <p>å®¹å™¨å¯ä»¥ä½¿ç”¨çš„æœ€å¤§èµ„æºé‡ï¼š</p>
            <pre><code class="yaml">spec:
  containers:
  - name: app
    resources:
      limits:
        memory: "128Mi"
        cpu: "500m"</code></pre>
        </div>

        <h2 id="scheduling">è°ƒåº¦ç­–ç•¥è¯¦è§£</h2>
        <div class="card-3d">
            <h3>èŠ‚ç‚¹äº²å’Œæ€§ï¼ˆNode Affinityï¼‰</h3>
            <pre><code class="yaml">affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: kubernetes.io/e2e-az-name
          operator: In
          values:
          - e2e-az1
          - e2e-az2</code></pre>

            <h3>Pod äº²å’Œæ€§ï¼ˆPod Affinityï¼‰</h3>
            <pre><code class="yaml">affinity:
  podAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
    - labelSelector:
        matchExpressions:
        - key: security
          operator: In
          values:
          - S1</code></pre>
        </div>

        <h2 id="best-practices">æœ€ä½³å®è·µ</h2>
        <div class="card-3d">
            <p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼š</p>
            <ul>
                <li>å§‹ç»ˆè®¾ç½®èµ„æºè¯·æ±‚å’Œé™åˆ¶</li>
                <li>ä½¿ç”¨å‘½åç©ºé—´è¿›è¡Œèµ„æºéš”ç¦»</li>
                <li>å®æ–½èµ„æºé…é¢ç®¡ç†</li>
                <li>åˆç†ä½¿ç”¨èŠ‚ç‚¹äº²å’Œæ€§</li>
                <li>å®šæœŸç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ</li>
            </ul>
        </div>

        <h2 id="summary">æ€»ç»“</h2>
        <p>åˆç†çš„èµ„æºç®¡ç†å’Œè°ƒåº¦ç­–ç•¥æ˜¯ Kubernetes é›†ç¾¤ç¨³å®šè¿è¡Œçš„åŸºçŸ³ã€‚é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬äº†è§£äº†å¦‚ä½•é€šè¿‡èµ„æºè¯·æ±‚ã€é™åˆ¶å’Œå„ç§è°ƒåº¦ç­–ç•¥æ¥ä¼˜åŒ–å®¹å™¨åŒ–åº”ç”¨çš„éƒ¨ç½²å’Œè¿è¡Œã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“åœºæ™¯å’Œéœ€æ±‚æ¥åˆ¶å®šåˆé€‚çš„èµ„æºç®¡ç†ç­–ç•¥ã€‚</p>

        <div class="post-tags">
            <span class="tag">Kubernetes ğŸš¢</span>
            <span class="tag">äº‘åŸç”Ÿ â˜ï¸</span>
            <span class="tag">å®¹å™¨ç¼–æ’ ğŸ¯</span>
            <span class="tag">èµ„æºç®¡ç† âš™ï¸</span>
        </div>
    </article>

    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js"></script>
    <script>
        // ä»£ç é«˜äº®
        hljs.highlightAll();
        
        // å›¾ç‰‡æ”¾å¤§
        mediumZoom('[data-zoomable]');

        // é˜…è¯»è¿›åº¦æ¡
        window.addEventListener('scroll', () => {
            const docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (window.scrollY / docHeight) * 100;
            document.querySelector('.reading-progress').style.setProperty('--progress', `${scrolled}%`);
        });

        // åˆ†äº«åŠŸèƒ½
        function shareToTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(document.title);
            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`);
        }

        function shareToFacebook() {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`);
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href)
                .then(() => alert('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼'));
        }
    </script>
</body>
</html> 